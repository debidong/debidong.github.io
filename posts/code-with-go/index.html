<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Code With Go - debidong's site</title><meta name=Description content="A tour of Go, but simplified."><meta property="og:title" content="Code With Go"><meta property="og:description" content="A tour of Go, but simplified."><meta property="og:type" content="article"><meta property="og:url" content="http://www.debidong.github.io/posts/code-with-go/"><meta property="og:image" content="http://www.debidong.github.io/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-08-24T22:00:00+08:00"><meta property="article:modified_time" content="2023-08-24T22:00:00+08:00"><meta property="og:site_name" content="debidong's site"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://www.debidong.github.io/logo.png"><meta name=twitter:title content="Code With Go"><meta name=twitter:description content="A tour of Go, but simplified."><meta name=application-name content="debidong's site"><meta name=apple-mobile-web-app-title content="debidong's site"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=http://www.debidong.github.io/posts/code-with-go/><link rel=prev href=http://www.debidong.github.io/posts/file-upload-vulnerability/><link rel=next href=http://www.debidong.github.io/posts/cve-2023-2317/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Code With Go","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/www.debidong.github.io\/posts\/code-with-go\/"},"genre":"posts","keywords":"Go, backend","wordcount":3396,"url":"http:\/\/www.debidong.github.io\/posts\/code-with-go\/","datePublished":"2023-08-24T22:00:00+08:00","dateModified":"2023-08-24T22:00:00+08:00","license":"debidong","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"debidong"},"description":"A tour of Go, but simplified."}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="debidong's site">debidong's site</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><a class=menu-item href=/about/>About </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="debidong's site">debidong's site</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/tags/ title>Tags</a><a class=menu-item href=/categories/ title>Categories</a><a class=menu-item href=/about/ title>About</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Code With Go</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=www.debidong.github.io title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>debidong</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2023-08-24>2023-08-24</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;3396 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;16 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#1-package>1 Package</a></li><li><a href=#2-variables-and-functions>2 Variables and Functions</a><ul><li><a href=#21-integer-types>2.1 Integer Types</a></li><li><a href=#22-floating-point-types>2.2 Floating-Point Types</a></li><li><a href=#23-complex-types>2.3 Complex Types</a></li><li><a href=#24-string-type>2.4 String Type</a></li><li><a href=#25-boolean-type>2.5 Boolean Type</a></li><li><a href=#26-pointer-type>2.6 Pointer Type</a></li><li><a href=#27-array-type>2.7 Array Type</a></li><li><a href=#28-slice-type>2.8 Slice Type</a></li><li><a href=#29-map-type>2.9 Map Type</a></li><li><a href=#210-function-type>2.10 Function Type</a></li><li><a href=#211-struct-type>2.11 Struct Type</a></li><li><a href=#212-interface-type>2.12 Interface Type</a></li><li><a href=#213-channel-type>2.13 Channel Type</a></li></ul></li><li><a href=#3-handling-errors>3 Handling errors</a><ul><li><a href=#31-error-type>3.1 <code>error</code> Type</a></li><li><a href=#32-panic-and-recover>3.2 <code>panic</code> and <code>recover</code></a></li><li><a href=#33-error-handling-examples>3.3 Error Handling Examples</a></li><li><a href=#34-considerations>3.4 Considerations</a></li></ul></li><li><a href=#4-flow-control>4 Flow Control</a></li><li><a href=#5-concurrency>5 Concurrency</a><ul><li><a href=#51-goroutine>5.1 Goroutine</a></li><li><a href=#52-concurrency-communication>5.2 Concurrency Communication</a></li></ul></li><li><a href=#6-refs>6 Refs</a></li></ul></nav></div></div><div class=content id=content><p>Go language (also known as Golang) is an open-source programming language developed by Google and first publicly released in 2009. It is designed for building efficient, reliable, and concise software. One of the design goals of Go is to provide a language with high concurrency, high performance, and ease of writing, suitable for application development in various domains.</p><p>Go language includes built-in support for concurrent programming through goroutines and channels, making it easy to create highly concurrent programs. It employs automatic garbage collection, relieving developers from manual memory management. The syntax of Go is simple and clear, enhancing readability and writability. Go comes with a rich standard library covering various functionalities including networking, file operations, encryption, concurrency, and more. Due to its excellent performance and concurrency support, Go has been widely adopted for building web applications, backend services, distributed systems, and more.</p><p>This document will explain the main syntax and features of the Go language.</p><h2 id=1-package>1 Package</h2><p>Packages play a crucial role in the Go language. They are used to organize related functions, structures, constants, and variables into a cohesive unit of functionality. The modular nature of packages enhances code readability, maintainability, and reusability. In a Go program, the special package is called the &ldquo;main&rdquo; package. A Go program must include a &ldquo;main&rdquo; package, containing the entry function <code>main()</code>, which is the first function executed when the program runs.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// main.go
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Hello world!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>By using packages, you can better organize and manage your Go code, resulting in clearer and more modular code structures.</p><h2 id=2-variables-and-functions>2 Variables and Functions</h2><p>In the Go language, keywords are used to declare variables and functions.</p><p>The <code>var</code> keyword is used to declare variables, while the <code>func</code> keyword is used to declare functions. When declaring variables, you can choose whether to initialize the variable&rsquo;s value. When declaring functions, you need to specify the function name, parameter list, and function body. In Go, functions can return multiple values and can be passed as values, allowing for anonymous functions and more.</p><p>Naming conventions for variables and functions follow the camel case style. The visibility of a variable or function is determined by the capitalization of the first letter: identifiers that start with a capital letter are visible to external packages, while those starting with a lowercase letter are not. Inside a function, you can use the <code>:=</code> shorthand to declare and initialize variables.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>num</span> <span class=kt>int</span> <span class=p>=</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>sum</span><span class=p>(</span><span class=nx>newNum</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>retVal</span> <span class=o>:=</span> <span class=nx>newNum</span> <span class=o>+</span> <span class=nx>num</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>retVal</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Go is a statically typed language, which means that variables must be declared with their types. Go&rsquo;s type system is strict; variable types are determined at compile time and cannot be changed at runtime. While you can use the short variable declaration (<code>:=</code>) to let the compiler infer the variable type when declaring variables, explicit use of the <code>var</code> keyword is required for variables declared outside of functions.</p><p>Go has 13 basic types.</p><h3 id=21-integer-types>2.1 Integer Types</h3><ul><li><code>int</code>: Depending on the architecture, it can be either 32 or 64 bits.</li><li><code>int8</code>, <code>int16</code>, <code>int32</code>, <code>int64</code>: Represent signed integers with 8, 16, 32, or 64 bits respectively.</li><li><code>uint</code>, <code>uint8</code>, <code>uint16</code>, <code>uint32</code>, <code>uint64</code>: Represent unsigned integers.</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>intValue</span> <span class=kt>int</span> <span class=p>=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>uintValue</span> <span class=kt>uint</span> <span class=p>=</span> <span class=mi>20</span>
</span></span></code></pre></div><h3 id=22-floating-point-types>2.2 Floating-Point Types</h3><p><code>float32</code>, <code>float64</code>: Represent 32-bit and 64-bit floating-point numbers respectively.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>floatValue</span> <span class=kt>float32</span> <span class=p>=</span> <span class=mf>3.14</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>doubleValue</span> <span class=kt>float64</span> <span class=p>=</span> <span class=mf>6.28</span>
</span></span></code></pre></div><h3 id=23-complex-types>2.3 Complex Types</h3><ul><li><code>complex64</code>: Represents a complex number with two <code>float32</code> components.</li><li><code>complex128</code>: Represents a complex number with two <code>float64</code> components.</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>complexValue</span> <span class=kt>complex64</span> <span class=p>=</span> <span class=mi>1</span> <span class=o>+</span> <span class=m>2i</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>biggerComplexValue</span> <span class=kt>complex128</span> <span class=p>=</span> <span class=mi>2</span> <span class=o>+</span> <span class=m>3i</span>
</span></span></code></pre></div><h3 id=24-string-type>2.4 String Type</h3><p><code>string</code>: Represents a sequence of characters.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>stringValue</span> <span class=kt>string</span> <span class=p>=</span> <span class=s>&#34;Hello, Go!&#34;</span>
</span></span></code></pre></div><ul><li>The <code>len</code> function is used to get the length of a string.</li><li>The <code>==</code> and <code>!=</code> operators can be used to compare two strings for equality.</li><li>The <code>+</code> operator can be used to concatenate two strings.</li><li>The <code>strings.Split</code> function splits a string into a slice based on a specified delimiter.</li><li>The <code>strings.Replace</code> function replaces occurrences of a substring in a string.</li><li>The <code>strings.Contains</code> function checks if a string contains a specified substring.</li><li>The <code>strings.HasPrefix</code> and <code>strings.HasSuffix</code> functions check if a string starts or ends with a specified prefix or suffix.</li><li>The <code>strings.ToLower</code> and <code>strings.ToUpper</code> functions convert a string to lowercase or uppercase.</li></ul><h3 id=25-boolean-type>2.5 Boolean Type</h3><p><code>bool</code>: Represents a boolean value, which can be either <code>true</code> or <code>false</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>boolValueTrue</span> <span class=kt>bool</span> <span class=p>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>boolValueFalse</span> <span class=kt>bool</span> <span class=p>=</span> <span class=kc>false</span>
</span></span></code></pre></div><h3 id=26-pointer-type>2.6 Pointer Type</h3><p><code>*T</code>: Represents a pointer to a value of type <code>T</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>intPointer</span> <span class=o>*</span><span class=kt>int</span>
</span></span><span class=line><span class=cl><span class=nx>intPointer</span> <span class=p>=</span> <span class=o>&amp;</span><span class=nx>intValue</span>
</span></span></code></pre></div><h3 id=27-array-type>2.7 Array Type</h3><p>In Go, arrays are fixed-size data structures with elements of the same type, used to store an ordered collection of data. Once the size of an array is determined, it cannot be changed. When declaring an array, you need to specify its length and element type.</p><p><code>[n]T</code>: Represents an array of <code>n</code> elements, where each element is of type <code>T</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>intArray</span> <span class=p>[</span><span class=mi>3</span><span class=p>]</span><span class=kt>int</span>
</span></span><span class=line><span class=cl><span class=nx>intArray</span> <span class=p>=</span> <span class=p>[</span><span class=mi>3</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>}</span>
</span></span></code></pre></div><ul><li><p>The <code>len</code> function is used to get the length of an array.</p></li><li><p>The <code>range</code> keyword is used to iterate over an array, providing both the index and value.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=k>for</span> <span class=nx>index</span><span class=p>,</span> <span class=nx>value</span> <span class=o>:=</span> <span class=k>range</span> <span class=nx>arr</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Printf</span><span class=p>(</span><span class=s>&#34;Index: %d, Value: %d\n&#34;</span><span class=p>,</span> <span class=nx>index</span><span class=p>,</span> <span class=nx>value</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></li><li><p>The <code>==</code> operator can be used to compare two arrays for equality.</p></li></ul><p>Arrays in Go are fundamental data structures suitable for storing fixed-size collections of data. However, because arrays have a fixed size, slices (dynamic arrays) are more commonly used when dealing with dynamically sized collections of data. Slices are built on top of arrays and offer greater flexibility.</p><h3 id=28-slice-type>2.8 Slice Type</h3><p>In Go, a slice is a dynamically sized data structure built on top of arrays, allowing automatic resizing. Slices provide convenient methods for manipulating sequential data, making them more flexible and efficient for dealing with dynamically sized collections. When a slice&rsquo;s length exceeds its capacity, the slice is automatically resized, which involves reallocating a larger underlying array.</p><p><code>[]T</code>: Represents a dynamically sized slice, where each element is of type <code>T</code>.</p><p>In Go, the <code>make</code> function is used to create dynamic data structures such as slices, maps, and channels. The <code>make</code> function returns an initialized and usable instance of the data structure. For slices, the <code>make</code> function requires specifying the slice type and length, and optionally the capacity. The length of a slice is the number of elements it currently holds, while the capacity is the size of the underlying array. A slice may be reallocated if its length exceeds its capacity, using a larger underlying array.</p><p>In the case of maps and channels, the <code>make</code> function is used primarily to initialize new instances for use. For array types, you don&rsquo;t need to use the <code>make</code> function; arrays are declared by initializing them directly. The <code>make</code> function is only used for creating dynamic data structures.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>intSlice</span> <span class=p>=</span> <span class=nb>make</span><span class=p>([]</span><span class=kt>int</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>
</span></span></code></pre></div><p>Slices can be initialized from arrays or other slices.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>intArray</span> <span class=p>=</span> <span class=p>[</span><span class=mi>5</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>intSlice</span> <span class=p>=</span> <span class=nx>intArray</span><span class=p>[:]</span>
</span></span></code></pre></div><ul><li>The <code>append</code> function is used to add elements to the end of a slice.</li><li>The <code>len</code> function is used to get the length of a slice, and the <code>cap</code> function is used to get its capacity.</li></ul><p>Slices can share the same underlying array, allowing for efficient memory usage and data sharing among slices.</p><h3 id=29-map-type>2.9 Map Type</h3><p><code>map[K]V</code>: Represents a map (dictionary) with keys of type <code>K</code> and values of type <code>V</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>keyValueMap</span> <span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>int</span>
</span></span><span class=line><span class=cl><span class=nx>keyValueMap</span> <span class=p>=</span> <span class=kd>map</span><span class=p>[</span><span class=kt>string</span><span class=p>]</span><span class=kt>int</span><span class=p>{</span><span class=s>&#34;one&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s>&#34;two&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>}</span>
</span></span></code></pre></div><ul><li>The <code>delete</code> function is used to remove key-value pairs from a map.</li><li>The expression <code>_, ok := map[key]</code> is used to check if a key exists in a map (<code>ok</code> will be <code>true</code> if the key exists).</li><li>The <code>range</code> keyword is used to iterate over key-value pairs in a map.</li><li>The <code>len</code> function is used to get the number of key-value pairs in a map.</li></ul><h3 id=210-function-type>2.10 Function Type</h3><p><code>func</code>: Represents a function type, which can be a parameter or a return value type.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>addFunction</span> <span class=kd>func</span><span class=p>(</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>int</span>
</span></span><span class=line><span class=cl><span class=nx>addFunction</span> <span class=p>=</span> <span class=kd>func</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span> <span class=kt>int</span><span class=p>)</span> <span class=kt>int</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>In Go, if a function accepts a pointer type parameter, passing a value of that type automatically creates a pointer to the value and passes it to the function. This conversion is implicit; developers don&rsquo;t need to manually create pointers. The same applies in reverse: if a function accepts a non-pointer type parameter, passing a pointer to that type automatically dereferences the pointer and passes the pointed-to value.</p><h3 id=211-struct-type>2.11 Struct Type</h3><p><code>struct</code>: Represents a composite data type that can contain fields of different types.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Rectangle</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>Width</span>  <span class=kt>float64</span>
</span></span><span class=line><span class=cl>    <span class=nx>Height</span> <span class=kt>float64</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>rect</span> <span class=nx>Rectangle</span> <span class=p>=</span> <span class=nx>Rectangle</span><span class=p>{</span><span class=nx>Width</span><span class=p>:</span> <span class=mf>16.0</span><span class=p>,</span> <span class=nx>Height</span><span class=p>:</span> <span class=mf>8.0</span><span class=p>}</span>
</span></span></code></pre></div><p>2.11.1 Methods</p><p>In Go, <strong>methods are functions associated with a specific type</strong>, and they can be called on instances of that type. Methods can be used to add behavior and functionality to user-defined types (structs), allowing these types to have their own behaviors. Method definitions are similar to regular function definitions, but they require a receiver type in front of the method name to indicate with which type the method is associated.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>r</span> <span class=nx>Rectangle</span><span class=p>)</span> <span class=nf>Area</span><span class=p>()</span> <span class=kt>float64</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>r</span><span class=p>.</span><span class=nx>Width</span> <span class=o>*</span> <span class=nx>r</span><span class=p>.</span><span class=nx>Height</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>With a pointer receiver type, methods can modify the values of the instance.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>r</span> <span class=o>*</span><span class=nx>Rectangle</span><span class=p>)</span> <span class=nf>Scale</span><span class=p>(</span><span class=nx>factor</span> <span class=kt>float64</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>r</span><span class=p>.</span><span class=nx>Width</span> <span class=o>*=</span> <span class=nx>factor</span>
</span></span><span class=line><span class=cl>    <span class=nx>r</span><span class=p>.</span><span class=nx>Height</span> <span class=o>*=</span> <span class=nx>factor</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>rect</span> <span class=o>:=</span> <span class=o>&amp;</span><span class=nx>Rectangle</span><span class=p>{</span><span class=nx>Width</span><span class=p>:</span> <span class=mi>5</span><span class=p>,</span> <span class=nx>Height</span><span class=p>:</span> <span class=mi>3</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>rect</span><span class=p>.</span><span class=nf>Scale</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span></span></code></pre></div><h3 id=212-interface-type>2.12 Interface Type</h3><blockquote><p>Interfaces play a vital role in programming. They enable polymorphism, allowing objects of different types to be treated uniformly. Through interfaces, you can write generic code that handles objects of different types without concerning the specific types. This enhances code reuse and flexibility. Interfaces also separate the definition of an interface from its implementation, reducing coupling between different modules. Modules can be developed based on interface definitions without needing to know the implementation details, which improves maintainability and extensibility. For example, consider a graphics computation program that calculates the area and perimeter of different shapes. If using interfaces, you could define a <code>Shape</code> interface with methods for calculating area and perimeter. Then, you could create types (e.g., rectangles, circles) that implement the <code>Shape</code> interface. This allows you to use the same method names to handle different shapes, improving flexibility and maintainability.</p></blockquote><p>In Go, an <strong>interface is a special data type that defines a collection of method signatures</strong>. An interface describes the behavior that objects should exhibit, without concerning their specific types. By implementing an interface, different types can have the same method set, achieving polymorphism and code reuse. In Go, an interface is a set of method signatures; it does not include the implementation code for methods. A method signature consists of the method name, parameter list, and return types.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Shape</span> <span class=kd>interface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nf>Area</span><span class=p>()</span> <span class=kt>float64</span>
</span></span><span class=line><span class=cl>    <span class=nf>Perimeter</span><span class=p>()</span> <span class=kt>float64</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Any type that implements all the methods in an interface is considered to implement that interface. Interface implementation is implicit; there&rsquo;s no need to explicitly declare it. In the example below, <code>Rectangle</code> implements the <code>Shape</code> interface.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span> <span class=nx>Rectangle</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>Width</span>  <span class=kt>float64</span>
</span></span><span class=line><span class=cl>    <span class=nx>Height</span> <span class=kt>float64</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>r</span> <span class=nx>Rectangle</span><span class=p>)</span> <span class=nf>Area</span><span class=p>()</span> <span class=kt>float64</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>r</span><span class=p>.</span><span class=nx>Width</span> <span class=o>*</span> <span class=nx>r</span><span class=p>.</span><span class=nx>Height</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=p>(</span><span class=nx>r</span> <span class=nx>Rectangle</span><span class=p>)</span> <span class=nf>Perimeter</span><span class=p>()</span> <span class=kt>float64</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>2</span> <span class=o>*</span> <span class=p>(</span><span class=nx>r</span><span class=p>.</span><span class=nx>Width</span> <span class=o>+</span> <span class=nx>r</span><span class=p>.</span><span class=nx>Height</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=213-channel-type>2.13 Channel Type</h3><p><code>chan T</code>: Represents a channel, used for communication between goroutines.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>var</span> <span class=nx>intChannel</span> <span class=kd>chan</span> <span class=kt>int</span>
</span></span><span class=line><span class=cl><span class=nx>intChannel</span> <span class=p>=</span> <span class=nb>make</span><span class=p>(</span><span class=kd>chan</span> <span class=kt>int</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=3-handling-errors>3 Handling errors</h2><p>The error mechanism in the Go programming language is based on returning values. It employs a special built-in type <code>error</code> to represent errors and encourages developers to handle errors in a general way.</p><h3 id=31-error-type>3.1 <code>error</code> Type</h3><p><code>error</code> is a built-in interface type that is often returned by functions to indicate errors that occurred during execution. It has only one method, <code>Error()</code>, which is used to return a description of the error.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span> <span class=kt>error</span> <span class=kd>interface</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nf>Error</span><span class=p>()</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h4 id=311-custom-error>3.1.1 Custom <code>error</code></h4><p>To create a custom error type, you usually define a struct with the name of that type. The struct needs to satisfy the <code>error</code> interface by implementing the <code>Error() string</code> method.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// Custom error type
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>type</span> <span class=nx>MyError</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>message</span> <span class=kt>string</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Implement the Error() method of the error interface
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=p>(</span><span class=nx>e</span> <span class=nx>MyError</span><span class=p>)</span> <span class=nf>Error</span><span class=p>()</span> <span class=kt>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>e</span><span class=p>.</span><span class=nx>message</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h4 id=312-using-error>3.1.2 Using <code>error</code></h4><p>Functions can indicate whether their execution was successful by returning an <code>error</code>. If the function succeeds, it typically returns <code>nil</code>. If an error occurs, it returns a non-nil error value.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>function</span><span class=p>()</span> <span class=kt>error</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nx>someCondition</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>nil</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    	<span class=k>return</span> <span class=nx>MyError</span><span class=p>{</span><span class=s>&#34;Something went wrong&#34;</span><span class=p>}</span>    
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>The <code>errors</code> package is a standard library package used for creating and handling errors. It provides functions for creating simple error values and for checking error types.</p><ul><li><p>The <code>errors</code> package offers a <code>New</code> function for creating a new error value. This is useful for creating simple error messages.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;errors&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>function</span><span class=p>()</span> <span class=kt>error</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>errors</span><span class=p>.</span><span class=nf>New</span><span class=p>(</span><span class=s>&#34;Something went wrong&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></li><li><p>You can use functions from the <code>errors</code> package to check whether an error is of a specific type.</p><p><code>errors.Is(err, target)</code> is used to check if an error matches a target error type. This function returns a boolean indicating whether the given error is an instance or wrapper of the target error type.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;errors&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>err</span> <span class=o>:=</span> <span class=nf>function</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nx>errors</span><span class=p>.</span><span class=nf>Is</span><span class=p>(</span><span class=nx>err</span><span class=p>,</span> <span class=nx>io</span><span class=p>.</span><span class=nx>EOF</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Handle EOF error
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></li><li><p>Go supports error chaining, allowing you to wrap one error within another to provide more context.</p><p><code>fmt.Errorf</code> is a function provided by the Go standard library&rsquo;s <code>fmt</code> package. It&rsquo;s used to format and create a new error. It behaves similarly to creating errors with string formatting, and you can wrap one error within another using the <code>%w</code> placeholder to provide more context.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=k>if</span> <span class=nx>err</span> <span class=o>:=</span> <span class=nf>function</span><span class=p>();</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>fmt</span><span class=p>.</span><span class=nf>Errorf</span><span class=p>(</span><span class=s>&#34;encountered an error: %w&#34;</span><span class=p>,</span> <span class=nx>err</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></li><li><p>You can retrieve the description of an error using the error&rsquo;s <code>Error()</code> method. This is useful for logging and presenting user-friendly error messages.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>err</span> <span class=o>:=</span> <span class=nf>function</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Error:&#34;</span><span class=p>,</span> <span class=nx>err</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>When passing an object that implements the <code>error</code> interface to functions like <code>fmt.Println</code>, they automatically invoke the object&rsquo;s <code>Error()</code> method to retrieve the error&rsquo;s description and print it.</p></li></ul><h3 id=32-panic-and-recover>3.2 <code>panic</code> and <code>recover</code></h3><h4 id=321-defer>3.2.1 <code>defer</code></h4><p><code>defer</code> is a keyword used to defer the execution of a function until the surrounding function returns. This ensures that the deferred function is executed whether the function returns normally or panics. <code>defer</code> is commonly used for cleanup tasks like closing files or releasing resources to ensure they are executed before the function exits.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=k>defer</span> <span class=nf>function</span><span class=p>(</span><span class=nx>arguments</span><span class=p>)</span>
</span></span></code></pre></div><ul><li>If multiple <code>defer</code> statements are used in a function, they are executed in reverse order, with the last deferred function being executed first, and so on.</li><li>Deferred functions are executed after the surrounding function has finished executing, even if a <code>return</code> statement is encountered.</li></ul><h4 id=322-panic--recover>3.2.2 <code>panic</code> + <code>recover</code></h4><p><code>panic</code> and <code>recover</code> are mechanisms used to handle exceptional situations in a program. They are typically used for handling unrecoverable errors and exceptions.</p><p><code>panic</code> is a built-in function used to indicate a serious error from which the program cannot recover. When <code>panic</code> is called, the current function&rsquo;s execution stops immediately, the program exits the current function&rsquo;s call stack, and then it starts executing the <code>defer</code> functions in each call frame. If no <code>recover</code> is encountered, the program terminates with a runtime error.</p><p><code>panic</code> can be triggered intentionally by developers or occur due to uncontrollable errors (such as array out-of-bounds, null pointer dereference, etc.).</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nb>panic</span><span class=p>(</span><span class=s>&#34;Something went wrong&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p><code>recover</code> is a built-in function used within <code>defer</code> functions to capture the panic caused by a <code>panic</code> call. It allows the program to recover and continue. <code>recover</code> must be called inside a <code>defer</code> to be effective. When called, it returns the value passed to <code>panic</code>, or <code>nil</code> if no panic occurred.</p><p>Usually, <code>recover</code> is used to regain control of the program&rsquo;s flow, enabling cleanup operations or resuming partial logic.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Trigger a panic, causing an interruption; but due to the following defer function, the program won&#39;t terminate
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nb>panic</span><span class=p>(</span><span class=s>&#34;Something went wrong&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// Define an anonymous function using defer, to be executed at the end of the main function
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>defer</span> <span class=kd>func</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Use recover within this anonymous function to catch the panic
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span> <span class=nx>r</span> <span class=o>:=</span> <span class=nb>recover</span><span class=p>();</span> <span class=nx>r</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Recovered:&#34;</span><span class=p>,</span> <span class=nx>r</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}()</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=33-error-handling-examples>3.3 Error Handling Examples</h3><p>In Go, it&rsquo;s common to write functions that return two values, one of which is of type <code>error</code>. This pattern is used to indicate the success of a function&rsquo;s execution and provide error information in case of failure.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;errors&#34;</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>divide</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span> <span class=kt>float64</span><span class=p>)</span> <span class=p>(</span><span class=kt>float64</span><span class=p>,</span> <span class=kt>error</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nx>b</span> <span class=o>==</span> <span class=mi>0</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=mi>0</span><span class=p>,</span> <span class=nx>errors</span><span class=p>.</span><span class=nf>New</span><span class=p>(</span><span class=s>&#34;division by zero&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>a</span> <span class=o>/</span> <span class=nx>b</span><span class=p>,</span> <span class=kc>nil</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>result</span><span class=p>,</span> <span class=nx>err</span> <span class=p>=</span> <span class=nf>divide</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nx>err</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Error:&#34;</span><span class=p>,</span> <span class=nx>err</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;Result:&#34;</span><span class=p>,</span> <span class=nx>result</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=34-considerations>3.4 Considerations</h3><ul><li>Avoid using only <code>if err != nil</code> for error checks. Errors can be other values too, and specific error handling might be needed.</li><li>Avoid simply using <code>_</code> or ignoring errors, as this could hide potential issues and impact the robustness of your program.</li><li>Unless it&rsquo;s an unrecoverable situation, avoid using <code>panic</code>. It can lead to an uncontrolled program termination instead of graceful error handling.</li></ul><h2 id=4-flow-control>4 Flow Control</h2><p>Go language&rsquo;s flow control includes conditional statements (if, switch), loops (for), and jump statements (break, continue, goto). In Go, flow control statements are used similarly to other programming languages, but Go emphasizes simplicity and readability. All conditional statements are written without parentheses.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nx>main</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>// if
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>x</span> <span class=o>:=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nx>x</span> <span class=p>&gt;</span> <span class=mi>5</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;x is greater than 5&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=nx>x</span> <span class=o>==</span> <span class=mi>5</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;x is equal to 5&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;x is less than 5&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// switch
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>day</span> <span class=o>:=</span> <span class=s>&#34;Monday&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>switch</span> <span class=nx>day</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=s>&#34;Monday&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;It&#39;s the start of the week&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=s>&#34;Friday&#34;</span><span class=p>,</span> <span class=s>&#34;Saturday&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;It&#39;s the weekend&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>default</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;It&#39;s a regular day&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>	<span class=c1>// for
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>for</span> <span class=nx>i</span> <span class=o>:=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=p>&lt;</span> <span class=mi>5</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>    
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=5-concurrency>5 Concurrency</h2><p>Go language was designed with concurrency in mind, offering lightweight concurrency support that makes writing concurrent programs simple and efficient. Go uses a mechanism called <code>goroutine</code> for concurrency, along with <code>channels</code> for synchronization and communication.</p><h3 id=51-goroutine>5.1 Goroutine</h3><p>A goroutine is a concurrent execution unit in Go, similar to a lightweight thread. Unlike traditional threads, goroutine creation and switching have minimal overhead, allowing thousands of goroutines to run concurrently. The <code>go</code> keyword is used to start a new goroutine.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>go</span> <span class=nf>doSomething</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Go language employs the CSP (Communicating Sequential Processes) concurrency model. It abstracts concurrency using independent goroutines that communicate and synchronize through channels. This model makes writing concurrent code more intuitive and safe. Go also provides mechanisms for safe concurrent access, such as mutexes and read-write locks. These mechanisms help developers avoid race conditions and data races when multiple goroutines access shared data.</p><h3 id=52-concurrency-communication>5.2 Concurrency Communication</h3><p>A channel is a conduit for data exchange between different goroutines. Channels are mainly used for data exchange and synchronization between goroutines. They help address the challenges of concurrent access to shared data, ensuring synchronization and consistency. Channels also enable communication and coordination among goroutines.</p><p>The <code>make</code> function is used to create a channel, specifying the data type it will carry. Channels can be closed using the <code>close</code> function. After a channel is closed, data cannot be sent through it, but it can still be received.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>ch</span> <span class=o>:=</span> <span class=nb>make</span><span class=p>(</span><span class=kd>chan</span> <span class=kt>int</span><span class=p>)</span> <span class=c1>// Create an integer channel
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>close</span><span class=p>(</span><span class=nx>ch</span><span class=p>)</span> <span class=c1>// Close the channel
</span></span></span></code></pre></div><p>The <code>&lt;-</code> operator is used to send data to and receive data from channels.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>ch</span> <span class=o>&lt;-</span> <span class=mi>42</span> <span class=c1>// Send the integer value 42 to the channel
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>value</span> <span class=o>:=</span> <span class=o>&lt;-</span><span class=nx>ch</span> <span class=c1>// Receive data from the channel and store it in the variable value
</span></span></span></code></pre></div><p>Both sending and receiving operations on channels are blocking. If a channel is full, a send operation will block until there&rsquo;s space. Similarly, a receive operation will block if the channel is empty.</p><p>Channels have a capacity, which represents the maximum number of elements the channel can hold simultaneously. Channel state includes whether it&rsquo;s closed and the current number of stored elements.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=nx>ch</span> <span class=o>:=</span> <span class=nb>make</span><span class=p>(</span><span class=kd>chan</span> <span class=kt>int</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span> <span class=c1>// Create an integer channel with capacity 5
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ch</span> <span class=o>&lt;-</span> <span class=mi>1</span> <span class=c1>// Send data
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>len</span><span class=p>(</span><span class=nx>ch</span><span class=p>)</span> <span class=c1>// Return the number of elements in the channel
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>cap</span><span class=p>(</span><span class=nx>ch</span><span class=p>)</span> <span class=c1>// Return the channel&#39;s capacity
</span></span></span></code></pre></div><h2 id=6-refs>6 Refs</h2><ul><li><a href=https://go.dev/tour/list target=_blank rel="noopener noreffer">A Tour of Go</a></li><li><a href=https://astaxie.gitbooks.io/build-web-application-with-golang/content/zh/ target=_blank rel="noopener noreffer">Build Web Application with Golang</a></li></ul></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2023-08-24</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=http://www.debidong.github.io/posts/code-with-go/ data-title="Code With Go" data-hashtags=Go,backend><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=http://www.debidong.github.io/posts/code-with-go/ data-hashtag=Go><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=http://www.debidong.github.io/posts/code-with-go/ data-title="Code With Go"><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=http://www.debidong.github.io/posts/code-with-go/ data-title="Code With Go"><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg aria-hidden=true></i></a><a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=http://www.debidong.github.io/posts/code-with-go/ data-title="Code With Go"><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/go/>Go</a>,&nbsp;<a href=/tags/backend/>backend</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/file-upload-vulnerability/ class=prev rel=prev title="File Upload Vulnerability"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>File Upload Vulnerability</a>
<a href=/posts/cve-2023-2317/ class=next rel=next title=CVE-2023-2317>CVE-2023-2317<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2022 - 2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=www.debidong.github.io target=_blank>debidong</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>